# flux 패턴

## flux 패턴

mvc 패턴의 한계로 페이스북이 만듦  
'`읽은 표시(mark seen)`에 관해 많은 뷰가 있다면 이를 어떻게 처리해야 할까?' 에 대한 해답  
(어떤 페이지에서 메시지를 읽었는데 다른 페이지에서는 메시지가 안 읽었다고 뜨기도 함)  

View와 model 간의 관계가 복잡해져 버그를 수정하거나 데이터 흐름을 알아보기 어려운 문제가 발생   

예를 들어 View에서 일어난 것이 모델에 영향을 끼치기도 그 반대도 영향을 미치는 로직도 있는 상황이 발생   
-> 데이터를 일관성 있게 뷰에 공유하기가 어려움  
-> 해결방법으로 데이터가 `한방향`으로만 흐르게 flux 패턴이 등장   

<br><br>

## 장점 

단방향 데이터 흐름을 활용해 복잡한 뷰 구성을 단순화한 디자인패턴  

* 데이터 일관성이 늘어남
* 버그 찾기 쉬움
* 단위 테스팅이 쉬움


action, dispatcher, store이라는 계층 존재

### Action
마우스 클릭, 글쓰기 이벤트 등을 의미  
이벤트가 발생했을 때 action에 관한 객체를 만들어내 dispatcher에게 전달

### Dispatcher
Dispatcher는 들어오는 Action 객체 정보를 기반해 어떠한 행위를 할 것인가   
보통 action 객체의 type을 기반으로 미리 만들어 놓은 로직을 수행(보통 switch 사용)   

### Store
데이터, 상태를 담고 있는 계층

<br><br>

## redux의 flux패턴 적용사례
switch를 통해 action의 type을 통해 판단, 각각의 행위를 결정
