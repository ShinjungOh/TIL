# Redux-Middleware

## í”„ë¡œì íŠ¸ ìƒì„±

### ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

```
yarn add redux react-redux redux-actions
```

<br><br>

## ë¯¸ë“¤ì›¨ì–´ 

ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í–ˆì„ ë•Œ, ë¦¬ë“€ì„œì—ì„œ ì²˜ë¦¬í•˜ê¸° ì „ì— ì‚¬ì „ ì§€ì •ëœ ì‘ì—…ì„ ì‹¤í–‰   

> `ì•¡ì…˜` â¡ï¸ `ğŸ’¡ë¯¸ë“¤ì›¨ì–´` â¡ï¸ `ë¦¬ë“€ì„œ` â¡ï¸ `ìŠ¤í† ì–´`

### ë¯¸ë“¤ì›¨ì–´ê°€ í•˜ëŠ” ì¼ 

1. ì „ë‹¬ë°›ì€ ì•¡ì…˜ì„ ì½˜ì†”ì— ê¸°ë¡í•˜ê¸°
2. ì „ë‹¬ë°›ì€ ì•¡ì…˜ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì•¡ì…˜ì„ ì·¨ì†Œí•˜ê¸°
3. ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ì•¡ì…˜ì„ ì¶”ê°€ë¡œ ë””ìŠ¤íŒ¨ì¹˜í•˜ê¸° 

ğŸ“Œ **ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë“±ì˜ ë¹„ë™ê¸° ì‘ì—… ê´€ë¦¬ì— ë§¤ìš° ìœ ìš©**

<br><br>

## ë¯¸ë“¤ì›¨ì–´ ìƒì„± 

ì§ì ‘ ë§Œë“¤ì–´ ì‚¬ìš©í•  ì¼ì€ ë“œë¬¼ì§€ë§Œ, ì§ì ‘ ë§Œë“¤ì–´ë³´ë©´ ë¯¸ë“¤ì›¨ì–´ì˜ ì‘ë™ ë°©ì‹ì„ ì´í•´í•˜ê¸° ì¢‹ìŒ  
ì›í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì„ ë•ŒëŠ” 1. ì§ì ‘ ë§Œë“¤ê¸° 2. ê¸°ì¡´ì˜ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• 

ë¯¸ë“¤ì›¨ì–´ëŠ” `í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜`ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜  
ğŸ’¡ nextë¥¼ í˜¸ì¶œí•˜ë©´ ê·¸ ë‹¤ìŒ ì²˜ë¦¬í•´ì•¼í•  ë¯¸ë“¤ì›¨ì–´ì—ê²Œ ì•¡ì…˜ì„ ë„˜ê²¨ì£¼ê³ , ê·¸ ë‹¤ìŒ ë¯¸ë“¤ì›¨ì–´ê°€ ì—†ë‹¤ë©´ ë¦¬ë“€ì„œì—ê²Œ ì•¡ì…˜ì„ ë„˜ê²¨ì¤Œ 

![](../Images/ë¦¬ë•ìŠ¤ë¯¸ë“¤ì›¨ì–´_1.png)

* ë¯¸ë“¤ì›¨ì–´ ë‚´ë¶€ì—ì„œ store.dispatchë¥¼ ì‚¬ìš©í•˜ë©´ ì²« ë²ˆì§¸ ë¯¸ë“¤ì›¨ì–´ë¶€í„° ë‹¤ì‹œ ì²˜ë¦¬ 
* ë¯¸ë“¤ì›¨ì–´ì—ì„œ nextë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì•¡ì…˜ì´ ë¦¬ë“€ì„œì— ì „ë‹¬ë˜ì§€ ì•ŠìŒ (= ì•¡ì…˜ì´ ë¬´ì‹œ)

```js
const loggerMiddleware = store => next => action => {
  // ë¯¸ë“¤ì›¨ì–´ ê¸°ë³¸ êµ¬ì¡°
};

// ë™ì¼ ì½”ë“œ
const loggerMiddleware = function loggerMiddleware(store) { // ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ ì¸ìŠ¤í„´ìŠ¤ 
  return function(next) { // í•¨ìˆ˜ í˜•íƒœ, store.dispatchì™€ ë¹„ìŠ·í•œ ì—­í•  
    return function(action) { // ë””ìŠ¤íŒ¨ì¹˜ëœ ì•¡ì…˜ 
      // ë¯¸ë“¤ì›¨ì–´ ê¸°ë³¸ êµ¬ì¡°
    }
  }
}

export default loggerMiddleware;
```

```js
// ìŠ¤í† ì–´ ìƒì„± ê³¼ì •ì—ì„œ ì ìš© 
import loggerMiddleware from './lib/loggerMiddleware';

const store = createStore(rootReducer, applyMiddleware(loggerMiddleware));
```

<br>

### ì˜ˆì‹œ

![](../Images/ë¦¬ë•ìŠ¤ë¯¸ë“¤ì›¨ì–´_2.png)

![](../Images/ë¦¬ë•ìŠ¤ë¯¸ë“¤ì›¨ì–´_3.png)

<br><br>

## redux-logger

ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë¯¸ë¦¬ ì™„ì„±ëœ ë¯¸ë“¤ì›¨ì–´ë¥¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì„¤ì¹˜í•´ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ìŒ  

### ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

```
yarn add redux-logger
```

```js
// ì ìš© 
import { createLogger } from 'redux-logger';

const logger = createLogger();
const store = createStore(rootReducer, applyMiddleware(logger));
```

![](../Images/ë¦¬ë•ìŠ¤ë¯¸ë“¤ì›¨ì–´_4.png)

* ì½˜ì†”ì— ìƒ‰ìƒ
* ì•¡ì…˜ ë””ìŠ¤íŒ¨ì¹˜ ì‹œê°„

<br><br>
