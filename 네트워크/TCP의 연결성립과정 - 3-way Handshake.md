# 3-way Handshake

## TCPμ μ—°κ²°μ„±λ¦½κ³Όμ • : TCP 3 way handshake

ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ κ°€μƒ μ—°κ²°

> 1οΈβƒ£ `ν΄λΌμ΄μ–ΈνΈ` SYN (μ ‘μ† μ”μ²­) -> 2οΈβƒ£ `μ„λ²„` SYN + ACK (μ”μ²­ μλ½) -> 3οΈβƒ£ `ν΄λΌμ΄μ–ΈνΈ` ACK (+ 4οΈβƒ£ λ°μ΄ν„° μ „μ†΅)

![](../Images/3way-handshake.png)

1. SYN λ‹¨κ³„ : ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— ν΄λΌμ΄μ–ΈνΈμ ISN(κ³ μ λ²νΈ)μ„ λ‹΄μ•„ SYNμ„ λ³΄λƒ„
2. SYN + ACK λ‹¨κ³„ : μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ SYNμ„ μμ‹ ν•κ³  μ„λ²„μ ISNμ„ λ³΄λ‚΄λ©° μΉμΈλ²νΈλ΅ ν΄λΌμ΄μ–ΈνΈμ ISN + 1μ„ λ³΄λƒ„
3. ACK λ‹¨κ³„ : ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ ISN + 1ν• κ°’μΈ μΉμΈλ²νΈλ¥Ό λ‹΄μ•„ ACKλ¥Ό μ„λ²„μ— λ³΄λƒ„

<br>

* ISN : initial sequence numberμ μ•½μ. TCP(Transmission Control Protocol) κΈ°λ° λ°μ΄ν„° ν†µμ‹ μ—μ„ κ°κ°μ μƒ μ—°κ²°μ— ν• λ‹Ήλ κ³ μ ν• 32λΉ„νΈ μ‹ν€€μ¤ λ²νΈ
  * TCP μ—°κ²°μ„ ν†µν•΄ μ „μ†΅λλ” λ‹¤λ¥Έ λ°μ΄ν„° λ°”μ΄νΈμ™€ μ¶©λν•μ§€ μ•λ” μ‹ν€€μ¤ λ²νΈλ¥Ό ν• λ‹Ήν•λ” λ° λ„μ›€μ΄ λ¨
  * κ³ μ λ²νΈλ¥Ό ν†µν•΄ ν†µμ‹ μ΄ μ„λ΅ μ¶©λν•μ§€ μ•λ„λ΅ ν•¨ 

* SYN : synchronizationμ μ•½μ, μ—°κ²° μ”μ²­ ν”λκ·Έ 
* ACK : acknowledgementμ μ•½μ, μ‘λ‹µ ν”λκ·Έ

<br><br>

## ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ μƒνƒ

### listen

μ„λ²„λ” listen μƒνƒκ°€ λμ–΄μ•Ό ν΄λΌμ΄μ–ΈνΈμ μ—°λ½μ„ λ°›μ„ μ μμ   
ν΄λΌμ΄μ–ΈνΈμ μ—°λ½μ„ κΈ°λ‹¤λ¦¬λ” μƒνƒ, μ΄λ¥Ό κΈ°λ°μΌλ΅ μ„λ²„ λ©”μ†λ“μ μ΄λ¦„μ΄ κ²°μ •λ¨

![](../Images/3-way Handshake_server.png)

```js
const express = require('express');
const app = express();
const port = 3000;

app.get('/', (req, res) => {
    res.send('Hello World!');
});

// listen λ©”μ†λ“λ¥Ό κΈ°λ°μΌλ΅ μ„λ²„κ°€ κµ¬λ™λ¨  
app.listen(port, () => {
    console.log(`Example app listening on port ${port}`);
});
```

π’΅ μ΄λ¬ν• μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ μ—°κ²° μ„¤μ • κ³Όμ •μ΄ μκΈ° λ•λ¬Έμ— TCPλ” **μ‹ λΆ°μ„±**μ΄ μμ  
λ°λ©΄, UDPλ” μ΄λ° κ³Όμ •μ΄ μ—†κΈ° λ•λ¬Έμ— μ‹ λΆ°μ„±μ΄ μ—†μ  
